# Inbox κµ¬ν„ μƒνƒ (2025-09-26 μ—…λ°μ΄νΈ)

## π“ ν„μ¬ κµ¬ν„ ν„ν™© - ν•λμ— λ³΄κΈ°

### β… Phase 0: κ°μΈμ •λ³΄ μμ • & ν¬μΈνΈ νμ¤ν† λ¦¬ κ°μ„  (μ™„λ£) π†•
- [x] **Phase 0.1: ν„λ€μ μΈ κ°μΈμ •λ³΄ μμ • UI κ°μ„ ** β… μ™„λ£
  - [x] ν”„λ΅ν•„ ν—¤λ” μΉ΄λ“ κµ¬ν„ (`profile_header_card.dart`)
  - [x] μ„Ήμ…λ³„ μΉ΄λ“ λ μ΄μ•„μ›ƒ κµ¬ν„ (`info_section_card.dart`)
  - [x] κ·ΈλΌλ°μ΄μ… λ°°κ²½ λ° κ·Έλ¦Όμ ν¨κ³Ό
  - [x] μ„¤μ • ν™”λ©΄ μ „λ©΄ λ¦¬ν©ν† λ§ (`settings_screen.dart`)

- [x] **Phase 0.2: λ…λ¦½μ μΈ ν¬μΈνΈ ν™”λ©΄ μƒμ„±** β… μ™„λ£
  - [x] ν¬μΈνΈ μ „μ© ν™”λ©΄ μƒμ„± (`points_screen.dart`)
  - [x] ν¬μΈνΈ μ”μ•½ μΉ΄λ“ μ„μ ― (`points_summary_card.dart`)
  - [x] λ©”μΈ λ€μ‹λ³΄λ“ ν¬μΈνΈ ν†µν•©
  - [x] λΌμ°ν… μ„¤μ • (`app_routes.dart`)

### π”΄ Phase 1: μµμ°μ„  - μ¦‰μ‹ ν•΄κ²° ν•„μ”
- [ ] **1. Firebase μΈλ±μ¤ μƒμ„±** π¨ **ν„μ¬ μ•± ν¬λμ‹ μ›μΈ**
- [ ] **2. ν¬μ¤νΈ μƒνƒ κ΄€λ¦¬ μ‹μ¤ν…** - PostModel ν™•μ¥
- [ ] **3. ν¬μ¤νΈ μμ • κ¶ν• μ μ–΄** - λ°°ν¬/λ§λ£ ν¬μ¤νΈ μμ • μ°¨λ‹¨
- [ ] **4. UI κ·Έλ¦¬λ“ μµμ ν™”** - 3μ—΄ κΈ°λ³Έ ν‘μ‹

### π  Phase 2: μ¤‘κ°„ μ°μ„ μμ„
- [ ] **1. μΏ ν° μ‹μ¤ν… κµ¬ν„** - ν¬μ¤νΈ μƒμ„± μ‹ μΏ ν° μµμ…
- [ ] **2. μƒμ„Έ ν†µκ³„ μ‹μ¤ν…** - λ°°ν¬ ν›„ μƒμ„Έ λ¶„μ„
- [ ] **3. ν¬μ¤νΈ μƒμ„±/λ°°ν¬ μ›ν¬ν”λ΅μ° λ¶„λ¦¬** - Map μ—°λ™
- [ ] **4. μ—λ¬ ν•Έλ“¤λ§ κ°•ν™”** - μ‚¬μ©μ μΉν™”μ  μ—λ¬ μ²λ¦¬

### π΅ Phase 3: λ‚®μ€ μ°μ„ μμ„
- [ ] **1. νμ΄μ§€λ„¤μ΄μ… μ™„μ„±** - DocumentSnapshot ν™μ©
- [ ] **2. μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ** - StreamBuilder μ „ν™
- [ ] **3. ν¬μ¤νΈ κ³µμ /μ „λ‹¬ κΈ°λ¥**
- [ ] **4. ν¬μ¤νΈ μ‘λ‹µ κΈ°λ¥**
- [ ] **5. λ¦¬μ›λ“ μ”μ²­ κΈ°λ¥**
- [ ] **6. ν‘Έμ‹ μ•λ¦Ό**
- [ ] **7. μ¤ν”„λΌμΈ μ§€μ›**
- [ ] **8. μ ‘κ·Όμ„± κ°μ„ **

---

## κ°μ”
ppamalpha μ•±μ Inbox κΈ°λ¥ κµ¬ν„ ν„ν™©μ„ μ •λ¦¬ν• λ¬Έμ„μ…λ‹λ‹¤. Inboxλ” μ‚¬μ©μκ°€ μƒμ„±ν• ν¬μ¤νΈμ™€ μμ§‘ν• ν¬μ¤νΈλ¥Ό κ΄€λ¦¬ν•λ” ν•µμ‹¬ κΈ°λ¥μΌλ΅, **ν¬μ¤νΈ μƒμ„±κ³Ό λ°°ν¬λ¥Ό λ¶„λ¦¬ν• μƒλ΅μ΄ μ›ν¬ν”λ΅μ°**λ¥Ό μ§€μ›ν•©λ‹λ‹¤.

## π”„ μƒλ΅μ΄ ν¬μ¤νΈ μ›ν¬ν”λ΅μ° (ν•µμ‹¬ λ³€κ²½μ‚¬ν•­)

### 1λ‹¨κ³„: ν¬μ¤νΈ μƒμ„± (Inboxμ—μ„) π“
```
μ‚¬μ©μ β†’ Inbox β†’ ν¬μ¤νΈ λ§λ“¤κΈ°
β”β”€β”€ ν¬μ¤νΈ λ‚΄μ© μ‘μ„± (μ λ©, μ„¤λ…, μ΄λ―Έμ§€)
β”β”€β”€ λ‹¨κ°€ μ„¤μ • (ν¬μΈνΈ)
β”β”€β”€ μΏ ν° μµμ… μ„¤μ • (μ„ νƒ)
β””β”€β”€ μ €μ¥ β†’ λ°°ν¬ λ€κΈ° μƒνƒ
```
- **μ„¤μ • ν•­λ©**: ν¬μ¤νΈ λ‚΄μ© + **λ‹¨κ°€λ§** μ„¤μ •
- **μƒνƒ**: `DRAFT` (λ°°ν¬ λ€κΈ°)
- **μμ • κ°€λ¥**: β… λ¨λ“  λ‚΄μ© λ³€κ²½ κ°€λ¥

### 2λ‹¨κ³„: ν¬μ¤νΈ λ°°ν¬ (Mapμ—μ„ λ§μ»¤ μ°κΈ°) π“
```
μ‚¬μ©μ β†’ Map β†’ λ§μ»¤ μ°κΈ° β†’ ν¬μ¤νΈ μ„ νƒ
β”β”€β”€ λΏλ¦¬λ” μλ‰ μ„¤μ •
β”β”€β”€ λ°°ν¬ κΈ°κ°„ μ„¤μ • (μ‹μ‘μΌ, λ§λ£μΌ)
β”β”€β”€ μ„μΉ ν™•μ •
β””β”€β”€ λ°°ν¬ μ‹¤ν–‰ β†’ λ°°ν¬λ¨ μƒνƒ
```
- **μ„¤μ • ν•­λ©**: **λΏλ¦¬λ” μλ‰** + **κΈ°κ°„** + **μ„μΉ**
- **μƒνƒ**: `DRAFT` β†’ `DEPLOYED` (λ°°ν¬λ¨)
- **μμ • κ°€λ¥**: β λ°°ν¬ ν›„ μμ • λ¶κ°€λ¥

## π“ Inbox κ΄€λ ¨ νμΌ νΈλ¦¬ κµ¬μ΅°

```
lib/
β”β”€β”€ screens/user/
β”‚   β”β”€β”€ inbox_screen.dart              # π“§ λ©”μΈ Inbox ν™”λ©΄ (λ‚΄ ν¬μ¤νΈ/λ°›μ€ ν¬μ¤νΈ νƒ­)
β”‚   β”β”€β”€ store_screen.dart              # π λ‚΄ μ¤ν† μ–΄ ν™”λ©΄ (κµ¬κΈ€ μ§€λ„ μ¤νƒ€μΌ UI + μ΄λ―Έμ§€ μ—…λ΅λ“)
β”‚   β”β”€β”€ main_screen.dart               # π  λ©”μΈ λ„¤λΉ„κ²μ΄μ… (BottomNavigationBar)
β”‚   β”β”€β”€ post_detail_screen.dart        # π“‹ ν¬μ¤νΈ μƒμ„Έ λ³΄κΈ°
β”‚   β”β”€β”€ post_edit_screen.dart          # βοΈ ν¬μ¤νΈ νΈμ§‘
β”‚   β””β”€β”€ post_deploy_screen.dart        # π“¤ ν¬μ¤νΈ λ°°ν¬ (Mapμ—μ„ μ‚¬μ©)
β”β”€β”€ features/
β”‚   β””β”€β”€ user_dashboard/screens/
β”‚       β””β”€β”€ inbox_screen.dart          # π†• μƒλ΅μ΄ Inbox ν™”λ©΄ κµ¬ν„
β”β”€β”€ widgets/
β”‚   β”β”€β”€ post_card.dart                 # πƒ ν¬μ¤νΈ μΉ΄λ“ μ„μ ― (λ¦¬μ¤νΈ λ·°μ©)
β”‚   β”β”€β”€ post_tile_card.dart            # π”² ν¬μ¤νΈ νƒ€μΌ μΉ΄λ“ (κ·Έλ¦¬λ“ λ·°μ©)
β”‚   β””β”€β”€ coupon_widget.dart             # π« μΏ ν° μ„μ ― (μ‹ κ· ν•„μ”)
β”β”€β”€ services/
β”‚   β”β”€β”€ post_service.dart              # π”§ ν¬μ¤νΈ λ°±μ—”λ“ μ„λΉ„μ¤
β”‚   β”β”€β”€ image_upload_service.dart      # π“· μ΄λ―Έμ§€ μ—…λ΅λ“ μ„λΉ„μ¤ (Firebase Storage)
β”‚   β”β”€β”€ coupon_service.dart            # π« μΏ ν° μ„λΉ„μ¤ (μ‹ κ· ν•„μ”)
β”‚   β””β”€β”€ analytics_service.dart         # π“ ν†µκ³„ λ¶„μ„ μ„λΉ„μ¤ (μ‹ κ· ν•„μ”)
β”β”€β”€ models/
β”‚   β”β”€β”€ post_model.dart                # π“ ν¬μ¤νΈ λ°μ΄ν„° λ¨λΈ (ν™•μ¥ ν•„μ”)
β”‚   β””β”€β”€ coupon_model.dart              # π« μΏ ν° λ¨λΈ (μ‹ κ· ν•„μ”)
β””β”€β”€ routes/
    β””β”€β”€ app_routes.dart                # π›£οΈ μ•± λΌμ°ν… μ„¤μ •
```

## β… μ΄λ―Έ κµ¬ν„λ κΈ°λ¥λ“¤

- [x] **1. κΈ°λ³Έ UI κµ¬μ΅°**
  - **νμΌ**: `lib/features/user_dashboard/screens/inbox_screen.dart`
  - **κµ¬ν„ λ‚΄μ©**: TabBarλ¥Ό μ‚¬μ©ν• 2νƒ­ κµ¬μ΅° (λ‚΄ ν¬μ¤νΈ / λ°›μ€ ν¬μ¤νΈ)
  - **μ½”λ“ μ„μΉ**: `inbox_screen.dart:312-321`

- [x] **2. κ²€μƒ‰ λ° ν•„ν„°λ§ μ‹μ¤ν…**
  - **κµ¬ν„ λ‚΄μ©**:
    - κ²€μƒ‰μ–΄ κΈ°λ° ν•„ν„°λ§ (μ λ©, μ„¤λ…, μƒμ„±μλ…)
    - μƒνƒλ³„ ν•„ν„°λ§ (μ „μ²΄, ν™μ„±, λΉ„ν™μ„±, λ§λ£λ¨)
    - κΈ°κ°„λ³„ ν•„ν„°λ§ (μ „μ²΄, μ¤λ, 1μ£ΌμΌ, 1κ°μ›”)
    - μ •λ ¬ κΈ°λ¥ (μƒμ„±μΌ, μ λ©, λ¦¬μ›λ“, λ§λ£μΌ)
  - **μ½”λ“ μ„μΉ**: `inbox_screen.dart:177-252`

- [x] **3. λ‚΄ ν¬μ¤νΈ νƒ­**
  - **κµ¬ν„ λ‚΄μ©**: μ‚¬μ©μκ°€ μƒμ„±ν• ν¬μ¤νΈ λ©λ΅ ν‘μ‹
  - **μ„λΉ„μ¤ μ—°λ™**: `PostService.getUserAllMyPosts()` μ‚¬μ©
  - **μ½”λ“ μ„μΉ**: `inbox_screen.dart:511-685`

- [x] **4. λ°›μ€ ν¬μ¤νΈ νƒ­**
  - **κµ¬ν„ λ‚΄μ©**: μ‚¬μ©μκ°€ μμ§‘ν• ν¬μ¤νΈ λ©λ΅ ν‘μ‹
  - **μ„λΉ„μ¤ μ—°λ™**: `PostService.getCollectedPosts()` μ‚¬μ©
  - **μ½”λ“ μ„μΉ**: `inbox_screen.dart:689-817`

- [x] **5. PostTileCard μ„μ ―**
  - **νμΌ**: `lib/widgets/post_tile_card.dart`
  - **κµ¬ν„ λ‚΄μ©**: κ·Έλ¦¬λ“ λ·°μ© ν¬μ¤νΈ νƒ€μΌ μΉ΄λ“
  - **μ‚¬μ©μ²**: μΈλ°•μ¤μ™€ Store ν™”λ©΄μ—μ„ κ·Έλ¦¬λ“ ν‘μ‹

- [x] **6. νμ΄μ§€λ„¤μ΄μ… μ¤€λΉ„**
  - **κµ¬ν„ λ‚΄μ©**: μ¤ν¬λ΅¤ κΈ°λ° λ¬΄ν• λ΅λ”© UI
  - **μ½”λ“ μ„μΉ**: `inbox_screen.dart:100-133`
  - **μƒνƒ**: κΈ°λ³Έ κµ¬μ΅°λ§ κµ¬ν„λ¨

- [x] **7. λ©”μΈ ν™”λ©΄ ν†µν•©**
  - **νμΌ**: `lib/screens/user/main_screen.dart`
  - **κµ¬ν„ λ‚΄μ©**: BottomNavigationBarμ— Inbox νƒ­ μ—°κ²°

- [x] **8. ν¬μ¤νΈ μƒμ„Έ/νΈμ§‘ ν™”λ©΄ μ—°κ²°**
  - **κµ¬ν„ λ‚΄μ©**: PostDetailScreen, PostEditScreen λΌμ°ν…
  - **μ½”λ“ μ„μΉ**: `inbox_screen.dart:655-673`, `inbox_screen.dart:788-806`

- [x] **9. PostService λ°±μ—”λ“ μ—°λ™**
  - **νμΌ**: `lib/services/post_service.dart`
  - **μ—°λ™λ λ©”μ„λ“λ“¤**:
    - `getUserAllMyPosts()`: λ‚΄ ν¬μ¤νΈ μ΅°ν
    - `getCollectedPosts()`: λ°›μ€ ν¬μ¤νΈ μ΅°ν
    - `getDistributedPosts()`: λ°°ν¬ ν¬μ¤νΈ ν†µκ³„

- [x] **10. λ‚΄ μ¤ν† μ–΄ ν™”λ©΄**
  - **νμΌ**: `lib/screens/user/store_screen.dart`
  - **κµ¬ν„ λ‚΄μ©**: κµ¬κΈ€ μ§€λ„ μ¥μ† μ¤νƒ€μΌ UI, μμ§‘ν• ν¬μ¤νΈ κ·Έλ¦¬λ“ ν‘μ‹

- [x] **11. μ΄λ―Έμ§€ μ—…λ΅λ“ μ„λΉ„μ¤**
  - **νμΌ**: `lib/services/image_upload_service.dart`
  - **κµ¬ν„ λ‚΄μ©**: Firebase Storage μ—°λ™, μλ™ μ••μ¶•/λ¦¬μ‚¬μ΄μ§•

## π¨ κΈ΄κΈ‰ μμ • ν•„μ”μ‚¬ν•­ (2025-09-26 μ¶”κ°€)

### 1. ν¬μ¤νΈ μƒνƒ λ΅μ§ μμ • π¨
**λ¬Έμ **: λ°°ν¬λμ§€ μ•μ•λ”λ° λ§λ£ ν¬μ¤νΈλ” μ΅΄μ¬ν•μ§€ μ•μ
**μμ • ν•„μ”**:
- `PostStatus.EXPIRED` μ κ±°
- `DRAFT` β†’ `DEPLOYED` β†’ (μ‹κ°„ κ²½κ³Ό μ‹ μλ™ μ‚­μ ) νλ¦„μΌλ΅ λ³€κ²½
- λ§λ£λ” λ°°ν¬λ ν¬μ¤νΈμ—μ„λ§ λ°μƒ

### 2. κ¶ν• μ²΄ν¬ λ²„κ·Έ μμ • π¨
**λ¬Έμ **: μμ •κ°€λ¥ν•λ‹¤κ³  ν‘μ‹λμ§€λ§ μ‹¤μ λ΅λ” μμ •μ΄ λ§‰ν€μμ
**μ›μΈ**: `PostModel.canEdit` λ΅μ§κ³Ό UI ν‘μ‹ λ¶μΌμΉ
**μμ • μ„μΉ**:
- PostEditScreen μ΄κΈ°ν™” λ° κ¶ν• μ²΄ν¬
- PostDetailScreen μμ • λ²„νΌ ν‘μ‹ μ΅°κ±΄
- Inbox ν™”λ©΄ ν¬μ¤νΈ μΉ΄λ“ μƒνƒ ν‘μ‹

### 3. μ΄λ―Έμ§€ λ‹¨κ°€ μ‹μ¤ν… λ―Έμ μ© π¨
**λ¬Έμ **: μ‚¬μ΄λ“λ” μ μ©λμ§€λ§ μ΄λ―Έμ§€ μ¶”κ°€ μ‹ λ‹¨κ°€ μµμ†κ°’ λ―Έμ μ©
**κµ¬ν„ ν•„μ”**:
- μ΄λ―Έμ§€ κ°μμ— λ”°λ¥Έ λ‹¨κ°€ μλ™ μ¦κ°€
- μ‚¬μ΄λ“μ™€ λ™μΌν• λ΅μ§ μ μ©
- λ―Έλ””μ–΄ νƒ€μ…λ³„ λ‹¨κ°€ κ³„μ‚° μ‹μ¤ν…

### 4. UI κ·Έλ¦¬λ“ μ¬μ΅°μ • π 
**λ¬Έμ **: ν„μ¬ 4μ—΄λ΅ λμ–΄μμ–΄ μ›Ήμ—μ„ λ„λ¬΄ μ‘μ
**μμ •**: λ‹¤μ‹ 3μ—΄ κΈ°λ³ΈμΌλ΅ λ³€κ²½
```dart
// μμ • μ „: 3μ—΄ β†’ 4μ—΄ β†’ 5μ—΄
// μμ • ν›„: 3μ—΄ β†’ 3μ—΄ β†’ 4μ—΄ (λ°μ¤ν¬ν†±λ§ 4μ—΄)
```

### 5. ν¬μ¤νΈ μƒμ„Έ μ΄λ―Έμ§€ ν’μ§ κ°μ„  π 
**λ¬Έμ **: μƒλ‹¨ μ΄λ―Έμ§€κ°€ μΈλ„¤μΌλ΅ ν‘μ‹λμ–΄ κΉ¨μ Έλ³΄μ„
**μμ •**: ν¬μ¤νΈ μƒμ„Έν™”λ©΄μ—μ„ μ›λ³Έ μ΄λ―Έμ§€ ν‘μ‹
**λ©ν‘**: κ³ ν™”μ§λ΅ κΈ€μ λ“± μ„Έλ¶€μ‚¬ν•­ ν™•μΈ κ°€λ¥

## π”΄ κΈ°μ΅΄ μµμ°μ„  κµ¬ν„ ν•„μ” κΈ°λ¥λ“¤ (μ¦‰μ‹ ν•΄κ²°)

### 1. Firebase μΈλ±μ¤ μƒμ„± π¨ **ν„μ¬ μ•± ν¬λμ‹ μ›μΈ**
**λ¬Έμ **: Firestore μΏΌλ¦¬ μΈλ±μ¤ λ„λ½μΌλ΅ "λ°›μ€ ν¬μ¤νΈ" νƒ­ μ™„μ „ μ¤λ¥
**β… μ‹μ¤ν… κµ¬μ΅° μ •λ¦¬ μ™„λ£**:
```
κΈ°μ΅΄ post_instances μ»¬λ ‰μ… β†’ post_collections μ»¬λ ‰μ… μ‚¬μ©μΌλ΅ ν†µμΌ
DataMigrationService μ κ±° (λ¶ν•„μ”)
PostInstanceService β†’ post_collections κΈ°λ°μΌλ΅ μ¬μ‘μ„±
PostStatisticsService β†’ post_collections κΈ°λ°μΌλ΅ μ¬μ‘μ„±
```

**ν„μ¬ Firebase μ»¬λ ‰μ… κµ¬μ΅°**:
```javascript
// μ‹¤μ  μ΅΄μ¬ν•λ” μ»¬λ ‰μ…λ“¤:
- posts (ν¬μ¤νΈ ν…ν”λ¦Ώ)
- markers (λ°°ν¬λ λ§μ»¤)
- post_collections (μμ§‘λ ν¬μ¤νΈ - κΈ°μ΅΄ μ»¬λ ‰μ… ν™•μ¥ μ‚¬μ©)
- user_points (ν¬μΈνΈ μ‹μ¤ν…)
- users (μ‚¬μ©μ μ •λ³΄)
```

**β οΈ Firebase μΈλ±μ¤ μƒνƒ**:
- post_collections μ»¬λ ‰μ…μ— ν™•μ¥ ν•„λ“λ“¤μ΄ μ¶”κ°€λμ—μΌλ―€λ΅ μƒλ΅μ΄ μΈλ±μ¤κ°€ ν•„μ”ν•  μ μμ
- μ‹¤μ  μ•± ν…μ¤νΈ ν›„ ν•„μ”ν• μΈλ±μ¤λ§ μƒμ„± μμ •
- **μ°μ„ μμ„**: π΅ **ν…μ¤νΈ ν›„ κ²°μ •** (κµ¬μ΅° λ³€κ²½μΌλ΅ κΈ°μ΅΄ μΈλ±μ¤ μ”κµ¬μ‚¬ν•­ λ³€κ²½λ¨)

### 2. ν¬μ¤νΈ μƒνƒ κ΄€λ¦¬ μ‹μ¤ν…
**ν„μ¬ λ¬Έμ **: ν¬μ¤νΈ μƒμ„±κ³Ό λ°°ν¬ λ‹¨κ³„ λ―Έλ¶„λ¦¬
**κµ¬ν„ ν•„μ”**:
```dart
enum PostStatus {
  DRAFT,     // λ°°ν¬ λ€κΈ° (μμ • κ°€λ¥)
  DEPLOYED,  // λ°°ν¬λ¨ (μμ • λ¶κ°€)
  DELETED    // μ‚­μ λ¨
}
```
**PostModel ν™•μ¥**:
```dart
class PostModel {
  // κΈ°μ΅΄ ν•„λ“λ“¤...
  PostStatus status;           // ν¬μ¤νΈ μƒνƒ
  int? deployQuantity;        // λ°°ν¬ μλ‰ (λ°°ν¬ μ‹ μ„¤μ •)
  DateTime? deployedAt;       // λ°°ν¬ μ‹μ 
  GeoPoint? deployLocation;   // λ°°ν¬ μ„μΉ
  // ...
}
```

### 3. ν¬μ¤νΈ μμ • κ¶ν• μ μ–΄
**κµ¬ν„ ν•„μ”**:
- λ°°ν¬λ ν¬μ¤νΈ (`DEPLOYED`) μμ • λ¶κ°€
- μ‚­μ λ ν¬μ¤νΈ (`DELETED`) μμ • λ¶κ°€
- λ°°ν¬ λ€κΈ° ν¬μ¤νΈ (`DRAFT`)λ§ μμ • κ°€λ¥
**μ μ© μ„μΉ**:
- PostEditScreen
- PostDetailScreenμ μμ • λ²„νΌ
- Inboxμ ν¬μ¤νΈ μΉ΄λ“

### 4. UI κ·Έλ¦¬λ“ μµμ ν™” (3μ—΄ ν‘μ‹)
**ν„μ¬**: `_getCrossAxisCount()` ν•¨μλ΅ λ°μ‘ν• κ·Έλ¦¬λ“
**κ°μ„  ν•„μ”**:
```dart
int _getCrossAxisCount(double width) {
  if (width < 500) {
    return 3; // λ¨λ°”μΌ: 3μ—΄ (κΈ°λ³Έ)
  } else if (width < 800) {
    return 4; // νƒλΈ”λ¦Ώ: 4μ—΄
  } else {
    return 5; // λ°μ¤ν¬ν†±: 5μ—΄
  }
}
```
**λ©ν‘**: λ” λ§μ€ ν¬μ¤νΈ μ •λ³΄λ¥Ό ν• ν™”λ©΄μ— ν‘μ‹

## π  μ¤‘κ°„ μ°μ„ μμ„ κµ¬ν„ κΈ°λ¥λ“¤

### 5. μΏ ν° μ‹μ¤ν…
**κµ¬ν„ λ²”μ„**:
```dart
class CouponModel {
  String couponId;
  CouponType type;      // DISCOUNT, FREE_ITEM, PERCENTAGE λ“±
  String title;         // μΏ ν° μ λ©
  String description;   // μΏ ν° μ„¤λ…
  String? imageUrl;     // μΏ ν° μ΄λ―Έμ§€
  int discountValue;    // ν• μΈκ°’ λλ” ν• μΈμ¨
  DateTime validUntil;  // μΏ ν° μ ν¨κΈ°κ°„
  bool isUsed;         // μ‚¬μ© μ—¬λ¶€
  DateTime? usedAt;    // μ‚¬μ© μ‹μ 
}
```
**κµ¬ν„ ν•„μ”**:
- ν¬μ¤νΈ μƒμ„± μ‹ μΏ ν° μµμ… μ„¤μ • UI
- μΏ ν° λ‚΄μ© νΈμ§‘κΈ° (ν…μ¤νΈ/μ΄λ―Έμ§€)
- μΏ ν° μ‚¬μ© λ©”λ‰΄ λ° μ²λ¦¬ λ΅μ§
- CouponService λ°±μ—”λ“ μ—°λ™

### 6. μƒμ„Έ ν¬μ¤νΈ ν†µκ³„ μ‹μ¤ν…
**ν†µκ³„ ν•­λ©**:
```dart
class PostAnalytics {
  String postId;
  int totalDeployed;        // μ΄ λ°°ν¬ μλ‰
  int totalCollected;       // μμ§‘λ μλ‰
  int totalUsed;           // μ‚¬μ©λ μλ‰ (μΏ ν°)
  int totalExpired;        // λ§λ£ νμ μλ‰

  // λΉ„μ¨ κ³„μ‚° (μλ™)
  double collectionRate;   // μμ§‘ λΉ„μ¨
  double usageRate;       // μ‚¬μ© λΉ„μ¨ (μΏ ν°)
  double expiryRate;      // λ§λ£ λΉ„μ¨

  // μΈκµ¬ν†µκ³„ν•™μ  λ¶„μ„
  Map<String, int> genderStats;  // μ„±λ³„ ν†µκ³„
  Map<String, int> ageStats;     // μ—°λ Ήλ³„ ν†µκ³„
  Map<String, int> locationStats; // μ§€μ—­λ³„ ν†µκ³„
}
```
**UI κµ¬μ„±**:
- λ°°ν¬ ν†µκ³„ λ‹¤μ΄μ–Όλ΅κ·Έ ν™•μ¥
- μ°¨νΈ/κ·Έλν”„ ν‘μ‹ (pie chart, bar chart)
- μƒμ„Έ λ¶„μ„ ν™”λ©΄ (λ³„λ„ μ¤ν¬λ¦°)

## π΅ λ‚®μ€ μ°μ„ μμ„ κµ¬ν„ κΈ°λ¥λ“¤

### 7. νμ΄μ§€λ„¤μ΄μ… μ™„μ„±
**ν„μ¬ λ¬Έμ **: `PostModel`μ— DocumentSnapshot μ €μ¥ ν•„λ“ μ—†μ
**ν•΄κ²°μ±…**:
```dart
class PostModel {
  // κΈ°μ΅΄ ν•„λ“λ“¤...
  DocumentSnapshot? rawSnapshot;  // Firebase DocumentSnapshot μ €μ¥

  // ν©ν† λ¦¬ λ©”μ„λ“ μμ •
  factory PostModel.fromFirestore(DocumentSnapshot doc) {
    // ...κΈ°μ΅΄ λ΅μ§
    return PostModel(
      // ...κΈ°μ΅΄ ν•„λ“λ“¤
      rawSnapshot: doc,  // DocumentSnapshot μ €μ¥
    );
  }
}
```

### 8. μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ
**ν„μ¬**: FutureBuilderλ§ μ‚¬μ©
**κ°μ„ **: StreamBuilderλ΅ μ „ν™
```dart
StreamBuilder<List<PostModel>>(
  stream: _postService.getUserPostsStream(_currentUserId!),
  builder: (context, snapshot) {
    // μ‹¤μ‹κ°„ λ°μ΄ν„° μ—…λ°μ΄νΈ
  },
)
```

### 9. ν¬μ¤νΈ κ³µμ /μ „λ‹¬ κΈ°λ¥
**μ—°κ΄€ ν•„λ“**: `PostModel.canForward`
**κµ¬ν„ ν•„μ”**:
- ν¬μ¤νΈ κ³µμ  UI
- λ‹¤λ¥Έ μ‚¬μ©μμ—κ² μ „λ‹¬ λ΅μ§
- κ³µμ  μ΄λ ¥ κ΄€λ¦¬

### 10. ν¬μ¤νΈ μ‘λ‹µ κΈ°λ¥
**μ—°κ΄€ ν•„λ“**: `PostModel.canRespond`
**κµ¬ν„ ν•„μ”**:
- ν¬μ¤νΈ μ‘μ„±μμ—κ² λ©”μ‹μ§€/ν”Όλ“λ°± μ „μ†΅
- μ‘λ‹µ μ‘μ„± ν™”λ©΄
- μ•λ¦Ό μ‹μ¤ν… μ—°λ™

### 11. λ¦¬μ›λ“ μ”μ²­ κΈ°λ¥
**μ—°κ΄€ ν•„λ“**: `PostModel.canRequestReward`
**κµ¬ν„ ν•„μ”**:
- λ¦¬μ›λ“ μ”μ²­ λ° μΉμΈ ν”„λ΅μ„Έμ¤
- ν¬μΈνΈ μ‹μ¤ν… μ—°λ™
- μ”μ²­ μ΄λ ¥ κ΄€λ¦¬

## π“‹ νμΌλ³„ κµ¬ν„ μƒμ„Έ κ³„ν

### π“ `post_model.dart` ν™•μ¥ (μµμ°μ„ )
**μ¶”κ°€ ν•„μ” ν•„λ“**:
```dart
class PostModel {
  // κΈ°μ΅΄ ν•„λ“λ“¤...

  // μƒνƒ κ΄€λ¦¬
  PostStatus status;           // ν¬μ¤νΈ μƒνƒ
  DateTime? deployedAt;        // λ°°ν¬ μ‹μ 
  int? deployQuantity;         // λ°°ν¬ μλ‰
  GeoPoint? deployLocation;    // λ°°ν¬ μ„μΉ

  // μΏ ν° μ‹μ¤ν…
  bool isCoupon;              // μΏ ν° μ—¬λ¶€
  CouponModel? coupon;        // μΏ ν° μ •λ³΄

  // ν†µκ³„ μ¶”μ 
  int totalDeployed;          // μ΄ λ°°ν¬ μλ‰
  int totalCollected;         // μμ§‘λ μλ‰
  int totalUsed;             // μ‚¬μ©λ μλ‰

  // Firebase μ—°λ™
  DocumentSnapshot? rawSnapshot; // νμ΄μ§€λ„¤μ΄μ…μ©
}
```

### π”§ `post_service.dart` ν™•μ¥
**μ¶”κ°€ ν•„μ” λ©”μ„λ“**:
```dart
class PostService {
  // μƒνƒλ³„ μ΅°ν
  Future<List<PostModel>> getPostsByStatus(String userId, PostStatus status);

  // ν¬μ¤νΈ λ°°ν¬
  Future<void> deployPost(String postId, DeploymentConfig config);

  // μƒνƒ λ³€κ²½
  Future<void> updatePostStatus(String postId, PostStatus status);

  // ν†µκ³„ μ΅°ν
  Future<PostAnalytics> getPostAnalytics(String postId);

  // μΏ ν° κ΄€λ ¨
  Future<void> useCoupon(String postId, String userId);
  Future<List<CouponModel>> getUserCoupons(String userId);
}
```

### π« `coupon_service.dart` μ‹ κ· μƒμ„±
**κµ¬ν„ λ©”μ„λ“**:
```dart
class CouponService {
  Future<CouponModel> createCoupon(CouponCreateRequest request);
  Future<void> useCoupon(String couponId, String userId);
  Future<List<CouponModel>> getUserCoupons(String userId);
  Future<CouponAnalytics> getCouponAnalytics(String couponId);
}
```

### π“ `analytics_service.dart` μ‹ κ· μƒμ„±
**κµ¬ν„ λ©”μ„λ“**:
```dart
class AnalyticsService {
  Future<PostAnalytics> getPostAnalytics(String postId);
  Future<UserAnalytics> getUserAnalytics(String userId);
  Future<Map<String, int>> getDemographicStats(String postId);
  Future<List<AnalyticsReport>> generateReports(AnalyticsFilter filter);
}
```


## π“ ν„μ¬ μ§„ν–‰ μƒν™© μ”μ•½ (2025-09-26 μµμΆ… μ—…λ°μ΄νΈ)

### β… μ™„λ£λ ν•µμ‹¬ κΈ°λ¥λ“¤:
- **Phase 4 μ™„λ£** β…: κ°μΈμ •λ³΄ μμ • UI ν„λ€ν™” & ν¬μΈνΈ νμ¤ν† λ¦¬ λ…λ¦½ ν™”λ©΄
- **Phase 5 μ™„λ£** β…: ν¬μ¤νΈ ν†µκ³„ μ‹μ¤ν… & 100λ§ ν¬μΈνΈ μ§€κΈ‰ μ‹μ¤ν…
- **μ΄ 20+ κΈ°λ¥** μ™„λ£ (κΈ°λ³Έ Inbox UI + Phase 4 + Phase 5 μ¶”κ°€)
- **Inbox ν™”λ©΄**: κ²€μƒ‰, ν•„ν„°λ§, νƒ­ μ‹μ¤ν… + ν†µκ³„ λ²„νΌ μ™„λ£
- **μ„μ ― μ‹μ¤ν…**: PostTileCard κ·Έλ¦¬λ“ λ·° + μΉ΄λ“ μ„μ ―λ“¤ + ν†µκ³„ λ‹¤μ΄μ–Όλ΅κ·Έ μ™„λ£
- **μ„λΉ„μ¤ κ³„μΈµ**: PostService, ImageUploadService, PointsService, PostStatisticsService, PostInstanceService, AdminService μ™„λ£
- **λ‚΄ μ¤ν† μ–΄**: κµ¬κΈ€ μ§€λ„ μ¤νƒ€μΌλ΅ μ™„λ£
- **κ°μΈμ •λ³΄ μ„¤μ •**: ν„λ€μ  Material Design 3 κΈ°λ° UI
- **ν¬μΈνΈ μ‹μ¤ν…**: λ…λ¦½ ν™”λ©΄ + λ©”μΈ λ€μ‹λ³΄λ“ ν†µν•© + 100λ§ ν¬μΈνΈ λ³΄μ¥
- **ν†µκ³„ μ‹μ¤ν…**: μ‹¤μ‹κ°„ ν¬μ¤νΈ ν†µκ³„ + μμ§‘μ λ¶„μ„ + ν™λ™ ν¨ν„΄ λ¶„μ„
- **ν¬μΈνΈ ν”λ΅μ°**: μμ§‘ λ³΄μƒ + μ‚¬μ© λ³΄μƒ + μ‹¤μ‹κ°„ μ§€κΈ‰ μ‹μ¤ν…

### π”΄ λ‹¤μ μ°μ„ μμ„ (Phase 1):
1. **Firebase μΈλ±μ¤ μƒμ„±** - μ•± μ •μƒ λ™μ‘ ν•„μ
2. **ν¬μ¤νΈ μƒνƒ κ΄€λ¦¬** - μƒμ„±/λ°°ν¬ λ¶„λ¦¬
3. **μμ • κ¶ν• μ μ–΄** - λ°°ν¬ ν›„ μμ • μ°¨λ‹¨
4. **UI μµμ ν™”** - 3μ—΄ κ·Έλ¦¬λ“ ν‘μ‹

### π  μ¤‘μ”λ„ μ¤‘κ°„ (Phase 2):
1. **μΏ ν° μ‹μ¤ν…** - μƒλ΅μ΄ ν•µμ‹¬ κΈ°λ¥
2. **μƒμ„Έ ν†µκ³„** - ν¬μ¤νΈ λ¶„μ„ μ‹μ¤ν…

### π΅ μ¶”ν›„ κµ¬ν„ (Phase 3):
- νμ΄μ§€λ„¤μ΄μ…, μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ
- ν¬μ¤νΈ κ³µμ /μ‘λ‹µ/λ¦¬μ›λ“ κΈ°λ¥
- ν‘Έμ‹ μ•λ¦Ό, μ¤ν”„λΌμΈ μ§€μ›

## π“ μµκ·Ό μ—…λ°μ΄νΈ (2025-09-26)

### π†• κ°μΈμ •λ³΄ μμ • & ν¬μΈνΈ νμ¤ν† λ¦¬ κ°μ„  ν”„λ΅μ νΈ (2025-09-26 μ¶”κ°€)
- π‘¤ **κ°μΈμ •λ³΄ μμ • UI ν„λ€ν™”**: κΈ°μ΅΄ μ¬λ“ν• ν…ν”λ¦Ώ μ¤νƒ€μΌμ—μ„ ν„λ€μ  μΉ΄λ“ κΈ°λ° λ μ΄μ•„μ›ƒμΌλ΅ μ „λ©΄ κ°νΈ
  - **ν„μ¬ λ¬Έμ μ **: κΈ°λ³Έ Flutter μ„μ ―λ§ μ‚¬μ©, μ‹κ°μ  λ§¤λ ¥ λ¶€μ΅±, μ‚¬μ©μ„± λ¶νΈ
  - **κ°μ„  λ©ν‘**: Material Design 3 κΈ°λ°, μΉ΄λ“ μ„Ήμ… λ¶„ν• , ν”„λ΅ν•„ ν—¤λ”, κ·ΈλΌλ°μ΄μ… ν¨κ³Ό
  - **νμΌ**: `lib/features/user_dashboard/screens/settings_screen.dart` μ „λ©΄ λ¦¬ν©ν† λ§

- π“ **ν¬μΈνΈ νμ¤ν† λ¦¬ μ ‘κ·Όμ„± κ°μ„ **: μ§€κ°‘ νƒ­μ—μ„λ§ λ³΄λ ν¬μΈνΈ νμ¤ν† λ¦¬λ¥Ό λ…λ¦½μ μΈ ν™”λ©΄μΌλ΅ λ¶„λ¦¬
  - **ν„μ¬ μƒν™©**: `wallet_screen.dart`μ μ²« λ²μ§Έ νƒ­μ—λ§ μ΅΄μ¬, μ ‘κ·Όμ„± μ ν•
  - **κ°μ„  κ³„ν**: λ…λ¦½μ μΈ `points_screen.dart` μƒμ„±, λ©”μΈ λ€μ‹λ³΄λ“ ν†µν•©
  - **κΈ°μ΅΄ μ„λΉ„μ¤**: `PointsService`, `UserPointsModel` μ΄λ―Έ μ™„μ „ κµ¬ν„λ¨

- π¨ **μ‹ κ· μ„μ ― μ»΄ν¬λ„νΈλ“¤**:
  - `profile_header_card.dart` - ν”„λ΅ν•„ ν—¤λ” μ„μ ―
  - `info_section_card.dart` - μ •λ³΄ μ„Ήμ… μΉ΄λ“ μ„μ ―
  - `points_summary_card.dart` - ν¬μΈνΈ μ”μ•½ μΉ΄λ“

### π”„ κΈ°μ΅΄ μ—…λ°μ΄νΈ (2025-09-25)
- π”„ **ν¬μ¤νΈ μ›ν¬ν”λ΅μ° λ¶„λ¦¬**: μƒμ„±(Inbox) β†” λ°°ν¬(Map) λ‹¨κ³„ λ¶„λ¦¬
- π« **μΏ ν° μ‹μ¤ν… κ³„ν**: ν¬μ¤νΈμ— μΏ ν° κΈ°λ¥ μ¶”κ°€ κ³„ν
- π“ **μƒμ„Έ ν†µκ³„ μ‹μ¤ν…**: ν¬μ¤νΈ λ°°ν¬ ν›„ μΆ…ν•© λ¶„μ„ κΈ°λ¥ κ³„ν
- π¨ **UI κ°μ„ **: 3μ—΄ κ·Έλ¦¬λ“ κΈ°λ³Έ ν‘μ‹λ΅ μ •λ³΄ λ°€λ„ ν–¥μƒ
- π› **Firebase μΈλ±μ¤ μ¤λ¥**: ν•΄κ²° λ°©λ²• λ° μƒμ„± URL μ κ³µ
- π”’ **μμ • κ¶ν• μ μ–΄**: λ°°ν¬/λ§λ£ ν¬μ¤νΈ μμ • μ°¨λ‹¨ κ³„ν

## π― Phase 4: κ°μΈμ •λ³΄ μμ • & ν¬μΈνΈ νμ¤ν† λ¦¬ κ°μ„  (2025-09-26 μ™„λ£) β…

### β… μ™„λ£λ κµ¬ν„ μ‚¬ν•­

#### π”¥ Phase 4.1: ν„λ€μ μΈ κ°μΈμ •λ³΄ μμ • UI κ°μ„  β…
1. **ν”„λ΅ν•„ ν—¤λ” μΉ΄λ“** κµ¬ν„ β…
   - [x] ν”„λ΅ν•„ μ΄λ―Έμ§€ μ—…λ΅λ“/λ³€κ²½ κΈ°λ¥ (`profile_header_card.dart`)
   - [x] μ‚¬μ©μ κΈ°λ³Έ μ •λ³΄ (λ‹‰λ„¤μ„, λ λ²¨) ν‘μ‹
   - [x] Firebase Storage μ—°λ™μΌλ΅ μ΄λ―Έμ§€ μ—…λ΅λ“/μ••μ¶• μ²λ¦¬

2. **μ„Ήμ…λ³„ μΉ΄λ“ λ μ΄μ•„μ›ƒ** κµ¬ν„ β…
   - [x] κ°μΈμ •λ³΄ μΉ΄λ“ (λ‹‰λ„¤μ„, μ „ν™”λ²νΈ, μƒλ…„μ›”μΌ, μ„±λ³„)
   - [x] μ£Όμ†μ •λ³΄ μΉ΄λ“ (μ£Όμ†, μƒμ„Έμ£Όμ†) - μ ‘μ„ μ μλ” μΉ΄λ“
   - [x] κ³„μ •μ •λ³΄ μΉ΄λ“ (κ³„μΆλ²νΈ) - μ ‘μ„ μ μλ” μΉ΄λ“
   - [x] κ·Όλ¬΄μ§€ μΉ΄λ“ (λ™μ  μ¶”κ°€/μ‚­μ ) - μ ‘μ„ μ μλ” μΉ΄λ“
   - [x] μ„¤μ • μΉ΄λ“ (μ½ν…μΈ  ν•„ν„°) - μ ‘μ„ μ μλ” μΉ΄λ“
   - [x] `InfoSectionCard` μ„μ ―μΌλ΅ μ¬μ‚¬μ© κ°€λ¥ν• μ»΄ν¬λ„νΈν™”

3. **UI/UX κ°μ„ μ‚¬ν•­** κµ¬ν„ β…
   - [x] κ·ΈλΌλ°μ΄μ… λ°°κ²½ λ° κ·Έλ¦Όμ ν¨κ³Ό
   - [x] Material Design 3 κΈ°λ° ν„λ€μ  λ””μμΈ
   - [x] μ μ ν• κ°„κ²©κ³Ό νƒ€μ΄ν¬κ·Έλν”Ό μ μ©
   - [x] λ΅λ”© μƒνƒ λ° ν”Όλ“λ°± κ°μ„ 
   - [x] λ°μ‘ν• λ””μμΈ κµ¬ν„

#### π”¥ Phase 4.2: λ…λ¦½μ μΈ ν¬μΈνΈ ν™”λ©΄ μƒμ„± β…
1. **ν¬μΈνΈ μ „μ© ν™”λ©΄ μƒμ„±** (`points_screen.dart`) β…
   - [x] ν¬μΈνΈ μ”μ•΅ λ° λ λ²¨ ν‘μ‹ (κ·ΈλΌλ°μ΄μ… μΉ΄λ“)
   - [x] ν¬μΈνΈ νμ¤ν† λ¦¬ νƒ­λ·° (νλ“/μ‚¬μ© λ‚΄μ—­)
   - [x] κΈ°μ΅΄ PointsServiceμ™€ UserPointsModel ν™μ©
   - [x] ν¬μΈνΈ ν†µκ³„ μ”μ•½ ν‘μ‹

2. **ν¬μΈνΈ ν™”λ©΄ μ ‘κ·Όμ„± κ°μ„ ** β…
   - [x] λ©”μΈ λ€μ‹λ³΄λ“μ— ν¬μΈνΈ μ”μ•½ μΉ΄λ“ μ¶”κ°€ (`points_summary_card.dart`)
   - [x] λ…λ¦½μ μΈ ν¬μΈνΈ ν™”λ©΄μΌλ΅ λ„¤λΉ„κ²μ΄μ… κµ¬ν„
   - [x] μ§€κ°‘ ν™”λ©΄μ—μ„ ν¬μΈνΈ νƒ­ μ μ§€ (κΈ°μ΅΄ μ‚¬μ©μ κ²½ν— λ³΄μ¥)
   - [x] ν΄λ¦­ μ‹ μƒμ„Έ ν¬μΈνΈ ν™”λ©΄μΌλ΅ μ΄λ™

#### π”¥ Phase 4.3: λΌμ°ν… λ° ν†µν•© β…
1. **λΌμ°ν… μ„¤μ •** β…
   - [x] `/points` κ²½λ΅λ΅ λ…λ¦½ ν¬μΈνΈ ν™”λ©΄ μ ‘κ·Ό (`app_routes.dart`)
   - [x] ν”„λ΅ν•„ μ„¤μ • ν™”λ©΄ κ²½λ΅ μµμ ν™”
   - [x] Inbox ν™”λ©΄μ—μ„ ν¬μΈνΈ μ”μ•½ μΉ΄λ“ ν†µν•©

2. **μƒνƒ κ΄€λ¦¬ κ°μ„ ** β…
   - [x] StatefulWidgetμΌλ΅ ν¬μΈνΈ μƒνƒ κ΄€λ¦¬
   - [x] FutureBuilderλ¥Ό ν™μ©ν• μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ κµ¬ν„
   - [x] λ„¤λΉ„κ²μ΄μ… ν›„ μλ™ μƒλ΅κ³ μΉ¨

## π― Phase 5: ν¬μ¤νΈ ν†µκ³„ μ‹μ¤ν… & 100λ§ ν¬μΈνΈ μ§€κΈ‰ (2025-09-26 μ™„λ£) β… π†•

### β… μƒλ΅ μ™„λ£λ κµ¬ν„ μ‚¬ν•­

#### π”¥ Phase 5.1: ν¬μ¤νΈ ν†µκ³„ μ‹μ¤ν… κµ¬ν„ β…
1. **λ‚΄ ν¬μ¤νΈ ν†µκ³„ UI** β…
   - [x] PostTileCardμ— ν†µκ³„ λ²„νΌ μ¶”κ°€ (`Icons.analytics`)
   - [x] λ‚΄ ν¬μ¤νΈμ—μ„λ§ ν†µκ³„ λ²„νΌ ν‘μ‹ (μ°½μ‘μ κ¶ν•)
   - [x] ν†µκ³„ λ‹¤μ΄μ–Όλ΅κ·Έ κµ¬ν„ (νμ—… ν•νƒ)
   - [x] λ°μ‘ν• λ‹¤μ΄μ–Όλ΅κ·Έ (μµλ€ ν¬κΈ° μ ν•)

2. **PostStatisticsService μƒμ„±** β…
   - [x] ν¬μ¤νΈλ³„ μƒμ„Έ ν†µκ³„ μ κ³µ (`post_statistics_service.dart`)
   - [x] λ°°ν¬ ν„ν™© (μ΄ λ°°ν¬μ, λ°°ν¬ μλ‰, μμ§‘λ¥ )
   - [x] μμ§‘ ν„ν™© (μ΄ μμ§‘μ, μ‚¬μ© μ™„λ£μ, μ‚¬μ©λ¥ )
   - [x] μμ§‘μ λ¶„μ„ (κ³ μ  μμ§‘μμ, ν‰κ·  μμ§‘/μ‚¬μ©μ, μµλ…ν™” μ²λ¦¬)
   - [x] ν™λ™ ν¨ν„΄ (κ°€μ¥ ν™λ°ν• μ‹κ°„λ€/μ”μΌ)
   - [x] λ§μ»¤λ³„ μƒμ„Έ ν†µκ³„ κΈ°λ¥
   - [x] μ‹¤μ‹κ°„ ν†µκ³„ μ¤νΈλ¦Ό κΈ°λ¥

3. **μ‹¤μ‹κ°„ ν†µκ³„ μ§‘κ³„ μ‹μ¤ν…** β…
   - [x] MarkerService μ—…λ°μ΄νΈ: λ§μ»¤ μƒμ„± μ‹ posts μ»¬λ ‰μ… ν†µκ³„ μλ™ μ—…λ°μ΄νΈ
   - [x] PostInstanceServiceμ— ν†µκ³„ μ§‘κ³„ ν†µν•©
   - [x] PostModelμ— ν†µκ³„ ν•„λ“ μ¶”κ°€ (totalDeployments, totalInstances λ“±)
   - [x] λ°°μΉ νΈλμ­μ…μΌλ΅ μ›μμ  ν†µκ³„ μ—…λ°μ΄νΈ

#### π”¥ Phase 5.2: 100λ§ ν¬μΈνΈ μ„μ‹ μ§€κΈ‰ μ‹μ¤ν… β…
1. **PointsService ν™•μ¥** β…
   - [x] μ‹ κ· κ°€μ…μ μλ™μΌλ΅ 100λ§ ν¬μΈνΈ μ§€κΈ‰
   - [x] κΈ°μ΅΄ μ‚¬μ©μ 100λ§ ν¬μΈνΈ λ³΄μ¥ μ‹μ¤ν…
   - [x] ν¬μΈνΈ νμ¤ν† λ¦¬ μλ™ κΈ°λ΅
   - [x] ν¬μΈνΈ ν”λ΅μ° λ©”μ„λ“ μ¶”κ°€:
     - `rewardPostCollection()` - μμ§‘ λ³΄μƒ μ§€κΈ‰
     - `rewardPostUsage()` - μ‚¬μ© λ³΄μƒ μ§€κΈ‰
     - `deductPostCreationPoints()` - ν¬μ¤νΈ μƒμ„± λΉ„μ© μ°¨κ°

2. **AdminService μƒμ„±** β…
   - [x] λ¨λ“  κΈ°μ΅΄ μ‚¬μ©μμ—κ² 100λ§ ν¬μΈνΈ λ³΄μ¥ (`admin_service.dart`)
   - [x] μ„μ‹ ν¬μΈνΈ μ‹μ¤ν… μ΄κΈ°ν™” λ©”μ„λ“
   - [x] κ°λ³„ μ‚¬μ©μ ν¬μΈνΈ λ³΄μ¥ λ©”μ„λ“
   - [x] λ°°μΉ μ²λ¦¬λ΅ μ„±λ¥ μµμ ν™”

#### π”¥ Phase 5.3: ν¬μΈνΈ ν”λ΅μ° ν†µν•© μ‹μ¤ν… β…
1. **PostInstanceServiceμ— ν¬μΈνΈ λ³΄μƒ ν†µν•©** β…
   - [x] ν¬μ¤νΈ μμ§‘ μ‹ β†’ μμ§‘μμ—κ² λ³΄μƒ μ§€κΈ‰
   - [x] ν¬μ¤νΈ μ‚¬μ© μ‹ β†’ μΏ ν°μΈ κ²½μ° μ¶”κ°€ λ³΄μƒ μ§€κΈ‰ (μμ§‘ λ³΄μƒμ μ λ°)
   - [x] ν¬μΈνΈ μ§€κΈ‰ μ‹¤ν¨ν•΄λ„ μ£Όμ” κΈ°λ¥μ€ μ •μƒ λ™μ‘
   - [x] μƒμ„Έν• λ΅κ·Έ κΈ°λ΅ μ‹μ¤ν…

2. **PostServiceμ— ν¬μΈνΈ μ‹μ¤ν… μ¤€λΉ„** β…
   - [x] PointsService μ—°λ™ μ¤€λΉ„ μ™„λ£
   - [x] ν¬μ¤νΈ μƒμ„± λΉ„μ© μ°¨κ° λ΅μ§ μ¤€λΉ„
   - [x] ν–¥ν›„ ν™•μ¥ κ°€λ¥ν• κµ¬μ΅° μ„¤κ³„

### π“ μƒλ΅ μƒμ„±/μμ •λ νμΌλ“¤ (Phase 5)

#### μƒλ΅ μƒμ„±ν• νμΌλ“¤:
- `lib/core/services/data/post_statistics_service.dart` - ν¬μ¤νΈ ν†µκ³„ λ¶„μ„ μ„λΉ„μ¤ β…
- `lib/core/services/admin/admin_service.dart` - κ΄€λ¦¬μ μ ν‹Έλ¦¬ν‹° (100λ§ ν¬μΈνΈ μ§€κΈ‰) β…
- `lib/core/models/post/post_instance_model_simple.dart` - ν¬μ¤νΈ μΈμ¤ν„΄μ¤ λ¨λΈ β…
- `lib/core/services/data/post_instance_service.dart` - ν¬μ¤νΈ μΈμ¤ν„΄μ¤ κ΄€λ¦¬ μ„λΉ„μ¤ β…

#### μ£Όμ” μμ •ν• νμΌλ“¤:
- `lib/features/post_system/widgets/post_tile_card.dart` - ν†µκ³„ λ²„νΌ μ¶”κ°€ β…
- `lib/features/user_dashboard/screens/inbox_screen.dart` - ν†µκ³„ λ‹¤μ΄μ–Όλ΅κ·Έ κµ¬ν„ β…
- `lib/core/services/data/points_service.dart` - 100λ§ ν¬μΈνΈ μ§€κΈ‰ λ° ν”λ΅μ° μ‹μ¤ν… β…
- `lib/core/services/data/marker_service.dart` - μ‹¤μ‹κ°„ ν†µκ³„ μ§‘κ³„ μ‹μ¤ν… β…
- `lib/core/services/data/post_service.dart` - PointsService μ—°λ™ μ¤€λΉ„ β…
- `lib/core/models/post/post_model.dart` - ν†µκ³„ ν•„λ“ μ¶”κ°€ μ™„λ£ β…

### π― ν¬μΈνΈ ν”λ΅μ° ν…μ¤νΈ λ°©λ²• (μ§€κ°‘ μ‹μ¤ν… μ—†μ΄ κ°€λ¥) π†•

#### β… ν„μ¬ κµ¬ν„λ ν¬μΈνΈ ν”λ΅μ°:
1. **μ‹ κ· κ°€μ…** β†’ μλ™μΌλ΅ 100λ§ ν¬μΈνΈ μ§€κΈ‰ β…
2. **κΈ°μ΅΄ μ‚¬μ©μ** β†’ AdminServiceλ΅ 100λ§ ν¬μΈνΈ λ³΄μ¥ κ°€λ¥ β…
3. **ν¬μ¤νΈ μμ§‘** β†’ μμ§‘μμ—κ² ν¬μ¤νΈ λ¦¬μ›λ“λ§νΌ ν¬μΈνΈ μ§€κΈ‰ β…
4. **μΏ ν° μ‚¬μ©** β†’ μ‚¬μ©μμ—κ² μ¶”κ°€ λ³΄μƒ μ§€κΈ‰ (λ¦¬μ›λ“μ 50%) β…

#### π§ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤:
```
π‘¤ μ‚¬μ©μA (ν¬μ¤νΈ μƒμ„±μ)
β”β”€β”€ 100λ§ ν¬μΈνΈ λ³΄μ  μƒνƒμ—μ„ μ‹μ‘
β”β”€β”€ ν¬μ¤νΈ μƒμ„± (λ¦¬μ›λ“ 1000ν¬μΈνΈ)
β””β”€β”€ λ§μ»¤λ΅ λ°°ν¬ (ν„μ¬λ” ν¬μΈνΈ μ°¨κ° μ•ν•¨)

π‘¤ μ‚¬μ©μB (μμ§‘μ)
β”β”€β”€ 100λ§ ν¬μΈνΈ λ³΄μ  μƒνƒμ—μ„ μ‹μ‘
β”β”€β”€ λ§μ»¤ ν„°μΉν•μ—¬ ν¬μ¤νΈ μμ§‘
β”β”€β”€ β†’ +1000ν¬μΈνΈ νλ“ β… (μμ§‘ λ³΄μƒ)
β””β”€β”€ μΏ ν°μΈ κ²½μ° μ‚¬μ© μ‹ +500ν¬μΈνΈ μ¶”κ°€ νλ“ β…

π“ ν†µκ³„ μ‹μ¤ν…
β”β”€β”€ μ‚¬μ©μA: λ‚΄ ν¬μ¤νΈμ—μ„ ν†µκ³„ λ²„νΌ ν΄λ¦­
β”β”€β”€ β†’ λ°°ν¬ ν„ν™©, μμ§‘ ν„ν™©, μμ§‘μ λ¶„μ„ ν™•μΈ κ°€λ¥ β…
β””β”€β”€ β†’ μ‹¤μ‹κ°„ ν†µκ³„ μ—…λ°μ΄νΈ β…
```

#### π“± AdminService ν™μ© λ°©λ²•:
```dart
// μ•± μ‹μ‘ μ‹ λ¨λ“  μ‚¬μ©μμ—κ² 100λ§ ν¬μΈνΈ λ³΄μ¥
final adminService = AdminService();
await adminService.initializeTemporaryPointsSystem();

// νΉμ • μ‚¬μ©μ ν¬μΈνΈ λ³΄μ¥
await adminService.ensureUserHasMillionPoints(userId);
```

### β΅ λ‹¤μ ν…μ¤νΈ λ‹¨κ³„:
1. **ν¬μ¤νΈ μƒμ„±** β†’ λ°°ν¬ β†’ **λ‹¤λ¥Έ κΈ°κΈ°/κ³„μ •μ—μ„ μμ§‘** ν…μ¤νΈ β… μ¤€λΉ„μ™„λ£
2. **ν¬μΈνΈ μ¦κ°€ ν™•μΈ** β†’ PointsService λ΅κ·Έ λ° UIμ—μ„ ν™•μΈ β… μ¤€λΉ„μ™„λ£
3. **ν†µκ³„ μ—…λ°μ΄νΈ ν™•μΈ** β†’ λ‚΄ ν¬μ¤νΈ ν†µκ³„ ν™”λ©΄μ—μ„ μ‹¤μ‹κ°„ ν™•μΈ β… μ¤€λΉ„μ™„λ£
4. **μΏ ν° μ‚¬μ© ν…μ¤νΈ** β†’ μ¶”κ°€ ν¬μΈνΈ μ§€κΈ‰ ν™•μΈ β… μ¤€λΉ„μ™„λ£

### π“ κΈ°μ΅΄ μƒμ„±/μμ •ν•  νμΌλ“¤
- `lib/features/user_dashboard/screens/points_screen.dart` - λ…λ¦½ ν¬μΈνΈ ν™”λ©΄
- `lib/features/user_dashboard/widgets/profile_header_card.dart` - ν”„λ΅ν•„ ν—¤λ” μ„μ ―
- `lib/features/user_dashboard/widgets/info_section_card.dart` - μ •λ³΄ μ„Ήμ… μΉ΄λ“ μ„μ ―
- `lib/features/user_dashboard/widgets/points_summary_card.dart` - ν¬μΈνΈ μ”μ•½ μΉ΄λ“

#### μμ •ν•  νμΌ:
- `lib/features/user_dashboard/screens/settings_screen.dart` - ν„λ€μ  UIλ΅ μ „λ©΄ κ°νΈ
- `lib/routes/app_routes.dart` - ν¬μΈνΈ ν™”λ©΄ λΌμ°ν… μ¶”κ°€
- `lib/features/user_dashboard/screens/main_screen.dart` - ν¬μΈνΈ μ”μ•½ μΉ΄λ“ μ¶”κ°€

### β΅ μμƒ ν¨κ³Ό
1. **μ‚¬μ©μ κ²½ν— κ°μ„ **: μ§κ΄€μ μ΄κ³  ν„λ€μ μΈ μΈν„°νμ΄μ¤
2. **μ •λ³΄ μ ‘κ·Όμ„± ν–¥μƒ**: μ²΄κ³„μ μΈ μ •λ³΄ κµ¬μ΅°ν™”
3. **ν¬μΈνΈ μ‹μ¤ν… ν™μ©λ„ μ¦κ°€**: λ…λ¦½μ μΈ ν¬μΈνΈ κ΄€λ¦¬ ν™”λ©΄
4. **μ•± μ „μ²΄ μΌκ΄€μ„±**: Material Design 3 κΈ°λ° ν†µν•© λ””μμΈ

## π“ μ°Έκ³ μ‚¬ν•­
- μ΄ λ¬Έμ„λ” 2025-09-26 κΈ°μ¤€μΌλ΅ μµμ‹  μ—…λ°μ΄νΈλ¨
- μƒλ΅μ΄ ν¬μ¤νΈ μ›ν¬ν”λ΅μ°λ” Map κΈ°λ¥κ³Ό λ°€μ ‘ν•κ² μ—°κ΄€λ¨
- Firebase μΈλ±μ¤ μƒμ„±μ΄ μ•± μ •μƒ λ™μ‘μ μ „μ μ΅°κ±΄
- κµ¬ν„ μ°μ„ μμ„λ” μ‚¬μ©μ ν”Όλ“λ°±μ— λ”°λΌ μ΅°μ • κ°€λ¥
- μΏ ν° λ° ν†µκ³„ μ‹μ¤ν…μ€ λΉ„μ¦λ‹μ¤ λ¨λΈκ³Ό μ§κ²°λλ” ν•µμ‹¬ κΈ°λ¥
- **κ°μΈμ •λ³΄ μμ • & ν¬μΈνΈ νμ¤ν† λ¦¬ κ°μ„ **: μ‚¬μ©μ κ²½ν— ν–¥μƒμ„ μ„ν• ν•„μ μ—…λ°μ΄νΈ

## π”§ κ°λ° ν™κ²½ μ„¤μ •

### Firebase μ½μ†” μ ‘μ† μ •λ³΄
- **ν”„λ΅μ νΈ ID**: `ppamproto-439623`
- **μΈλ±μ¤ κ΄€λ¦¬**: https://console.firebase.google.com/v1/r/project/ppamproto-439623/firestore/indexes
- **ν•„μ μƒμ„± μΈλ±μ¤**:
  1. `posts` μ»¬λ ‰μ…: `creatorId` + `createdAt`
  2. `post_collections` μ»¬λ ‰μ…: `userId` + `collectedAt`

### κ°λ° λ„κµ¬
- **Flutter**: μµμ‹  stable λ²„μ „
- **Firebase SDK**: Firestore, Storage, Auth μ—°λ™
- **μƒνƒ κ΄€λ¦¬**: Provider ν¨ν„΄ ν™μ©
- **UI μ»΄ν¬λ„νΈ**: Material Design 3 κΈ°λ°

---

**π’΅ λ‹¤μ λ‹¨κ³„**: Firebase μΈλ±μ¤ μƒμ„± β†’ ν¬μ¤νΈ μƒνƒ κ΄€λ¦¬ κµ¬ν„ β†’ UI μµμ ν™” μμ„λ΅ μ§„ν–‰ κ¶μ¥