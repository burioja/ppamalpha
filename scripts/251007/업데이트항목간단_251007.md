# 업데이트 항목

## 1. 플레이스 관련

### 1.1. 플레이스 등록 및 인증 관련
- [x] 상단 플레이스 아이콘을 맵 스크린에 있는 가방아이콘으로 통일
- [x] 회원가입시 일터를 등록하면 이름과 주소를 기본으로 해서 플레이스 자동등록되게 할 것
- [x] 플레이스를 사업자등록 인증하면 인증된 플레이스로 하고 아니면 그냥 일반 플레이스로 함 
- [x] 개발모드인 지금은 회원가입 시 일터로 등록한 것을 사업자등록한것으로 자동으로 되게하자  
  -> 따로 사업자등록 인증 프로세스구성을 일단은 안할 예정

### 1.2. 플레이스 리스트
- [x] 맵스크린과 같이 OSM으로 지도 사용 -> 아직 구글지도인거같음.
- [x] 지도는 틀고정하고 아래 플레이스들만 스크롤 되게하자  -> 틀고정안되고 전체가 스크롤됨.
- [x] 지도에 플레이스리스트들이 모두 보이게 자동으로 줌아웃되게 하자. -> 줌아웃은 되어있는데 플레이스 마커가 안보임. 지도 이동/줌인아웃도 안됨.
- [x] 지도 크기는 화면 높이의 2/5정도(40%) 차지하게 하자
- [x] 플레이스 리스트에서의 보이는 것은 현재 디자인 유지하되 플레이스 대문사진 / 제목/ 주소 /인증여부 
- [x] 플레이스 리스트 선택 방법 변경
  -> 기존: 한번 클릭 시 바로 플레이스 상세로 이동
  -> 변경: 
    1. 첫번째 클릭: 
      - 해당 플레이스 테두리 하이라이트 표시
      - 지도에서 해당 플레이스로 줌인 (줌 레벨 16 정도로 설정 - 건물 수준에서 주변 맥락 확인 가능한 수준)
    2. 두번째 클릭: 플레이스 상세 페이지로 이동
    3. 지도 컨트롤 추가:
      - 지도 우측 상단에 '초기 화면으로' 버튼 추가
      - 버튼 클릭 시 처음 화면의 줌 레벨과 중심점으로 지도 이동
    4. 지도 마커 레이블 추가:
      - 각 플레이스 마커 옆에 플레이스 이름 표시
      - 레이블은 마커와 겹치지 않도록 오른쪽에 배치
      - 레이블 스타일은 지도와 잘 어울리는 색상과 크기로 설정


### 1.3. 플레이스 디테일
- [x] 현재의 플레이스 디테일 디자인은 별로다  
  -> 인박스- 받은포스트에 중간에 내스토어라는 버튼이 있는데 그거들어가면 보이는 디자인을 플레이스 디테일 디자인으로 차용해라(구글지도에 있는 플레이스에 있는 스타일 차용했었음.)
  -> 대신에 디자인은 차용하고 사용하는 항목은 아래와 같음  
  -> 대무사진(캐루져로 좌우로 넘기게)/지도/스토어명(+업종)/인증여부/운영시간/연락처(전화/이메일/웹사이트/주소 등)  
  -> 추가로 인박스 받은포스트의 중간에 내스토어는 안보이게해라.의미가 없다

- 추가 점검결과
- [x] 메인헤더이미지가 보이지 않음 ✅ 해결 (CORS 설정 완료)
- [x] 다른 이미지들도 보이지 않음 ✅ 해결 (CORS 설정 완료)
- [x] 지도 섹션 높이를 2cm에서 1.5cm로 줄이기 ✅ 완료
- [x] 이미지 캐러셀에 좌우 화살표 추가 ✅ 완료
- [x] 이미지가 앱바(뒤로가기/수정/공유 버튼)와 겹치는 문제 해결 ✅ 완료
- [x] 운영시간 섹션이 보이지 않음 - DB 필드 확인 필요
- [x] 이미지 2개 이상일 때 첫번째 이미지만 썸네일로 사용
- [x] 플레이스 필드에 웹사이트 필드 추가
- [x] 연락처에 전화번호가 표시되지 않는 문제 해결
- [x] 플레이스 통계 시간분석 에러 수정 (TypeError: List<dynamic> 타입 문제)
- [x] 플레이스 수정 시 기존 데이터 필드(운영시간 등) 수정 가능하도록 구현
- [X] 플레이스 필드 추가 검토


## 2. 회원가입 관련
- [x] 일터를 한개만 등록할 수 있게 변경  
  -> 일단 개발모드에서 일터등록한거는 자동으로 사업자등록 해서 인증된 플레이스로 하기 위함  
  -> 따로 사업자등록 인증 프로세스구성을 일단은 안할 예정
- [x] 회원가입 시 주소 입력 방식 개선
  -> 주소를 '검색주소'와 '상세주소' 두 필드로 분리
  -> 검색주소는 주소 검색 API를 통해 선택된 표준화된 주소
  -> 상세주소는 사용자가 직접 입력하는 추가 위치 정보
  -> 검색주소의 위도/경도 좌표를 저장하여 지도 마커 표시에 활용
  -> 저장 형식:
    * searchAddress: 검색으로 선택된 기본 주소
    * detailAddress: 사용자 입력 상세 주소
    * latitude: 검색주소의 위도
    * longitude: 검색주소의 경도
- [ ] 주소 검색 알고리즘 개선
  -> 도로명 주소 검색이 되지 않는 문제 해결
  -> 주소 검색 API 호출 시 도로명+지번 주소 모두 검색되도록 수정
  -> 검색 결과에서 도로명 주소가 우선 표시되도록 정렬
  -> 검색어 전처리 로직 추가:
    * 특수문자 제거
    * 띄어쓰기 정규화
    * '로', '길' 등의 도로명 접미사 처리
  -> 검색 결과 없을 경우 유사 주소 추천 기능 추가


## 3. 인박스 관련

### 3.1. 배포전
- [ ] 배포전 포스트 리스트 그리드 구성  
  -> 그림/ 제목한줄(길면 말줄임표)/단가(왼쪽) 만든날짜(오른쪽)
- [ ] 포스트 열리는 프로세스  
  -> 기존 : 한번누르면 바로 이동  
  -> 변경 : 한번누르면 해당 포스트 테두리 표시 + 제목이 왼쪽에서 오른쪽으로 흘러서 모든 제목의 글씨를 보이게 / 한번더 누르면 해당 포스트로 이동
- [ ] 포스트 생성 관련 : 사운드 등록을 안보이게 했는데 보이게 하자. 해당 사운드의 목적은 포스트 주을때 효과음이 원래 컨셉이었는데 그건 아니고(현재는 뺌이라고 하는 효과음을 공통으로 되게하는것으로 하기로함, 구현여부는 아직 확인안됨.) 그냥 포스트에 대한 소리설명정도라고 보면 될듯함
- [ ] 배포전 포스트 리스트 각 포스트 그리드 우측상단 작성중은 없에라

### 3.2. 배포후 
- [ ] 회수한가는 회수했다는 표시나오게하자 (그리드에 회수딱지 추가)

### 3.3 포스트 생성 
- [ ] 포스트 생성 버튼 누르면 처음 플레이스 선택부분이 있는데 이부분의 UI/UX 디자인을 플레이스 리스트 보는 화면과 유사하게 구성하자
- [ ] 기능옵션 임시 삭제(안보이게하자)
- [ ] 사운드 추가 살리기
- [ ] 유튜브 링크 추가(홍보목적 유튜브)
- [ ] 위치 정보 없에기
- [ ] 포스트 생성 디자인을 모바일로 한페이지 안에 들어가게 타이트한 UI.UX 디자인으로 구성해줄수 있는가?

### 3.4 포스트 수정(배포전 포스트에만 해당)
- [ ] 최하단에 기본 만료일과 위치가 있는데 필요없는 항목임

### 3.5 주은 포스트에 대한 포스트 디테일
- [ ] 최상단 포스트 사진(원본사진)/ 리워드  / 스토어 간략 정보 + 링크/ 최하단 쿠폰사용관련 으로 구성
- [ ] 맨아래에 미디어라고 썸네일 사진이 있는데 삭제
- [ ] 포스트 편집 / 포스트 배포하기가 있는데 삭제해라. 어짜피 최하단에 포스트 수정이 있다
- [ ] 포스트 수정아래에 개발자용으로 기본정보(포스트 ID 등에 대해 정보 보이는버튼을 넣자(누르면 Collapse됐던게 보였다가 다시 누르면 안보이게)
- [ ] 포스트 그림 아래에 플레이스 위치 지도 표시
  -> OSM + Carto 스타일 (라벨 없는 버전) 사용
  -> 지도 높이 2cm로 고정
  -> 맵스크린과 동일한 지도 스타일 적용
  -> 해당 플레이스의 위치가 지도에 표시되도록 구현


## 4. 통계
- [ ] 내 포스트 내 배포한 포스트 통계 / 개별 포스트의 통계를 동일하게 해라  
  -> 개별 포스트의 통계 형식 (현재 기본/수집자/시간/위치/성과 등으로 상세하게 만든 통계)으로 통일시켜서 만들어주면 되겠다
- [ ] 포스트 통계 내에 한번 주은 포스트 갯수 확인
- [ ] 주은 포스트에 포스트의 사진을 클릭해서 확대해서 보았는지 여부 그 비율을 통계로 보이면 좋을 것 같음
- [ ] 쿠폰사용여부도 통계에 추가(쿠폰 탭을 아예만들자)

## 5. 기타
- [ ] 코드 파일 분할  
  -> 1000줄이 넘어가는 파일은 적절한 단위로 분할하여 관리  
  -> 관련된 기능/컴포넌트 단위로 분리  
  -> 분할된 파일들은 의미있는 이름으로 명명  
  -> index.ts 파일을 통해 export 관리


